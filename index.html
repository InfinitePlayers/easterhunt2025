<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>The Great DJW Egg Hunt 2025</title>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: Arial, sans-serif;
      background: #fdf6e3;
      color: #333;
      margin: 0;
      padding: 0;
      text-align: center;
    }
    nav {
      background: #e07b00;
      color: white;
      padding: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    nav .nav-links {
      display: flex;
      gap: 1rem;
    }
    nav a {
      color: white;
      text-decoration: none;
      font-weight: bold;
      padding: 0.5rem 1rem;
      border-radius: 4px;
    }
    nav a.active {
      background-color: black;
    }
    #mute-btn {
      background-color: black;
      color: white;
      padding: 0.4rem 0.8rem;
      border: none;
      border-radius: 5px;
      font-size: 0.9rem;
      cursor: pointer;
    }
    .container {
      padding: 1.5rem;
      max-width: 480px;
      margin: auto;
    }
    h1, h2 {
      color: #e07b00;
    }
    p {
      font-size: 1rem;
    }
    .letter-box {
      display: inline-block;
      width: 28px;
      height: 32px;
      border-bottom: 2px solid #333;
      margin: 0 2px;
      font-size: 1rem;
      text-transform: uppercase;
      text-align: center;
    }
    .letter-box.correct { color: green; font-weight: bold; }
    .letter-box.incorrect { color: red; font-weight: bold; }
    button {
      padding: 0.6rem 1rem;
      font-size: 1rem;
      background: #e07b00;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin: 0.5rem;
    }
    #result {
      margin-top: 2rem;
      font-size: 1.1rem;
      display: none;
    }
    .code-container {
      margin-top: 1rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;
    }
    .word-group {
      display: flex;
      justify-content: center;
      gap: 0.2rem;
    }
    .page { display: none; }
    .page.active { display: block; }
    .basket-wrapper {
      display: flex;
      justify-content: center;
      gap: 3rem;
      margin-top: 1rem;
      flex-wrap: wrap;
    }
    .basket-column {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .basket-row {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .basket-number {
      width: 20px;
      text-align: right;
      font-size: 0.9rem;
      color: #333;
    }
    .basket-input {
      width: 40px;
      height: 36px;
      font-size: 1.2rem;
      text-align: center;
      text-transform: uppercase;
      border: 2px solid #e07b00;
      border-radius: 6px;
      background: white;
    }
    .clear-btn {
      background: red;
      color: white;
      border: none;
      border-radius: 50%;
      width: 22px;
      height: 22px;
      font-size: 0.9rem;
      cursor: pointer;
      line-height: 1;
    }
    .map-container {
      width: 100%;
      max-width: 100%;
      height: 80vh;
      overflow: hidden;
      position: relative;
      cursor: grab;
      touch-action: none;
      border: 2px solid #e07b00;
    }
    .map-container img {
      display: block;
      max-width: none;
      transform-origin: 0 0;
      user-select: none;
      pointer-events: none;
      touch-action: none;
    }
  </style>
</head>
<body>
  <!-- Existing content structure remains the same -->
  <script>
    const map = document.getElementById('zoom-map');
    let scale = 1;
    let pos = { x: 0, y: 0 };
    let isDragging = false;
    let start = { x: 0, y: 0 };
    let lastTouchDist = null;

    function updateTransform() {
      map.style.transform = `translate(${pos.x}px, ${pos.y}px) scale(${scale})`;
    }
    updateTransform();

    map.parentElement.addEventListener('mousedown', (e) => {
      isDragging = true;
      start = { x: e.clientX - pos.x, y: e.clientY - pos.y };
      map.parentElement.style.cursor = 'grabbing';
    });

    map.parentElement.addEventListener('mousemove', (e) => {
      if (!isDragging) return;
      pos.x = e.clientX - start.x;
      pos.y = e.clientY - start.y;
      updateTransform();
    });

    map.parentElement.addEventListener('mouseup', () => {
      isDragging = false;
      map.parentElement.style.cursor = 'grab';
    });

    map.parentElement.addEventListener('mouseleave', () => {
      isDragging = false;
    });

    map.parentElement.addEventListener('wheel', (e) => {
      e.preventDefault();
      const zoom = 0.1;
      scale += e.deltaY < 0 ? zoom : -zoom;
      scale = Math.min(Math.max(1, scale), 3);
      updateTransform();
    }, { passive: false });

    map.parentElement.addEventListener('touchstart', (e) => {
      if (e.touches.length === 1) {
        isDragging = true;
        start = { x: e.touches[0].clientX - pos.x, y: e.touches[0].clientY - pos.y };
      } else if (e.touches.length === 2) {
        isDragging = false;
        lastTouchDist = getTouchDistance(e.touches);
      }
    }, { passive: false });

    map.parentElement.addEventListener('touchmove', (e) => {
      e.preventDefault();
      if (e.touches.length === 1 && isDragging) {
        pos.x = e.touches[0].clientX - start.x;
        pos.y = e.touches[0].clientY - start.y;
        updateTransform();
      } else if (e.touches.length === 2) {
        const newDist = getTouchDistance(e.touches);
        if (lastTouchDist) {
          const delta = newDist - lastTouchDist;
          scale += delta * 0.005;
          scale = Math.min(Math.max(1, scale), 3);
          updateTransform();
        }
        lastTouchDist = newDist;
      }
    }, { passive: false });

    map.parentElement.addEventListener('touchend', () => {
      isDragging = false;
      lastTouchDist = null;
    });

    function getTouchDistance(touches) {
      const dx = touches[0].clientX - touches[1].clientX;
      const dy = touches[0].clientY - touches[1].clientY;
      return Math.sqrt(dx * dx + dy * dy);
    }

    function resetMapZoom() {
      scale = 1;
      pos = { x: 0, y: 0 };
      updateTransform();
    }
  </script>
</body>
</html>
