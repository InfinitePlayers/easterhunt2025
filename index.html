<style>
  .letter-box {
    display: inline-block;
    width: 22px;
    height: 28px;
    font-size: 0.9rem;
    border-bottom: 2px solid #333;
    margin: 0 1px;
    text-align: center;
    text-transform: uppercase;
  }
  .code-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.4rem;
  }
  .word-group {
    display: flex;
    justify-content: center;
    gap: 0.1rem;
  }
  .basket-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 14px 10px;
    margin-top: 1rem;
  }
  .basket-box {
    border: 2px solid #e07b00;
    padding: 4px;
    font-size: 1rem;
    height: 75px;
    position: relative;
    background: white;
    border-radius: 8px;
  }
  .basket-input {
    font-size: 1.2rem;
    width: 80%;
    text-align: center;
    margin-top: 1.5rem;
  }
  .clear-btn {
    position: absolute;
    top: 3px;
    right: 3px;
    background: red;
    color: white;
    border: none;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    font-size: 0.9rem;
    cursor: pointer;
  }
</style>
<script>
  const codeContainer = document.getElementById("codeContainer");
  const storedInput = JSON.parse(localStorage.getItem("eggHuntInputs") || "{}");
  const phrase = "treasure is here";
  const words = phrase.split(" ");
  let inputIndex = 0;
  words.forEach((word, w) => {
    const wordDiv = document.createElement("div");
    wordDiv.className = "word-group";
    word.split("").forEach((char) => {
      const input = document.createElement("input");
      input.maxLength = 1;
      input.className = "letter-box";
      input.dataset.index = inputIndex;
      input.dataset.expected = char;
      input.value = storedInput[inputIndex] || "";

      const clear = document.createElement("button");
      clear.className = "clear-btn";
      clear.innerText = "Ã—";
      clear.onclick = () => {
        if (confirm("Clear this letter?")) {
          input.value = "";
          storedInput[inputIndex] = "";
          localStorage.setItem("eggHuntInputs", JSON.stringify(storedInput));
        }
      };

      input.addEventListener("input", () => {
        storedInput[input.dataset.index] = input.value;
        localStorage.setItem("eggHuntInputs", JSON.stringify(storedInput));
        const next = document.querySelector(`input[data-index='${parseInt(input.dataset.index) + 1}']`);
        if (input.value && next) next.focus();
      });

      wordDiv.appendChild(input);
      inputIndex++;
    });
    codeContainer.appendChild(wordDiv);
  });
</script>
